include:
  - docassemble.MAVirtualCourt:basic-questions.yml
---
mandatory: True
code: |
  basic_questions_intro_screen
  remove_default_intro
  original_courtdate
  sheriff_notice
  if sheriff_notice == True:
    removal_date
  reason_for_missing
  users.gather()
  users[0].address.address
  other_party
  docket_number
  courts[0]
  answer_yesno
  if answer_yesno == True:
    stated_legaldefense
    counterclaim_yesno = False
  elif answer_yesno == False:
    counterclaim_yesno
    if counterclaim_yesno == True:
      stated_legaldefense
  signature_fields = [] 
  for user_index in range( len(users) ):
    one_user = 'users[' + str( user_index ) + '].signature' 
    signature_fields.append( one_user ) 
  basic_questions_signature_flow
  if date_to_file > today():
    exitscreen_before10
  else:
    exitscreen_after10
  download
  made_screen
---
code: |
  allowed_courts = [
      "Boston Municipal Court",
      "District Court",
      "Superior Court",
      "Housing Court",
      ]
---
id: intro screen
question: |
 # Removing a Default Judgment 
subquestion: |
 If you missed your eviction trial and were defaulted, you can try to get another one.
 
 This is called a Motion to Remove Default and Vacate Judgment
 
 A default judgment is a legal term meaning that you failed to appear at your eviction trial and that your landlord won the case via default and can now evict you from his property.
 
 If you have a **good reason** for missing the court date and a **legal defense that may prevent your eviction** you can ask the Judge to schedule another trial
 
 Before we begin it is important that you find your Judgment of Summary Process order from the court as there is information that you will need from it. An example of the order can be seen below.
 
 [FILE default_order.png, 100%]
 
 To get started, tap **Next**
continue button field: remove_default_intro
---
id: original date
question: |
 What was the date of the Default Judgment?
subquestion: |
  The date can be found on the default order here:
  
  [FILE default_order_date.png, 100%]
fields:
 - Date: original_courtdate
   datatype: date
---
code: |
 date_to_file = original_courtdate.plus(days=11)
---
id: other party info
question: |
  What is the name of the plaintiff in this case?
subquestion: |
  The name of the plaintiff can be found on your court order here:
  
  [FILE default_order_plaintiff.png, 100%]
fields:
  - Plaintiff: other_party
---
id: removal notice
question: |
  Have you also received a notice from a sheriff or constable about being removed from your home or apartment?
subquestion: |
  This is a notice you may have recieved which states that a sheriff or constabl will evict you from your residence on a certain day. 
yesno: sheriff_notice
---
id: removal notice date and time
question: |
  What is the date and time that the sheriff or constable says you will be removed?
fields: 
  - Date: removal_date
    datatype: date
  - Time: removal_time
    datatype: time
---
id: reason for missing
question: |
 Why did you miss your hearing?
fields: 
  - no label: reason_for_missing
    choices:
      - I never received notice of the court date: I never recieved notice of the court date.
      - My landlord told me that I didn't need to go to court: My landlord told me that i didnt need to go to court.
      - I was late and my case had already been called: I was late and my case had already been called.
      - I didn't make it to court because someone in my household was sick or died: I didnt make it to court because someone in my household was sick or died.
      - Other: Other.
  - Other: elaborate
    datatype: area
    show if: 
      variable: reason_for_missing 
      is: Other.
---
id: docket number
question: |
 Enter the following information
fields: 
 - Docket Number: docket_number
help:
  label: |
    Where can I find my docket number?
  content: |
    The docket number can be found on the top and center of the order sheet here:
    
    [FILE default_order_docket.png, 100%]
---
id: previous answer filed
question: |
 Have you already filed an answer with the court?
yesno: answer_yesno
--- 
id: filing a future answer
question: |
 Are you planning on filing an answer?
subquestion: |
 **What is an answer?**
 An Answer is a document you file with the court saying why you should not be evicted.   An Answer also can include counterclaims you may have against your landlord.

 It is recommended that you file an Answer with your Motion.  To learn more about how to defend against an Eviction [go here](${ url_of('https://www.masslegalhelp.org/housing/lt1-pullout-12-evictions') })
yesno: counterclaim_yesno
---
id: legal defense
question: |
  Please state why you should not be evicted
fields: 
  - no label: stated_legaldefense
    input type: area
---
#id: new court date
#question: |
#  When would you like to schedule this motion?
#fields: 
#  - Date: new_date
#    datatype: date
#  - Time: new_time
#    datatype: time
#subquestion: |
#  It is important that you first contact the court and find out when they will allow you to schedule this motion hearing. (Some courts only allow them on certain days at certain times. Some courts also require that you give at least 7 days notice of when the hearing will take place. It varies from court to court)
---
code: |
  user.signature
---
id: exit screen 1
continue button field: exitscreen_before10
question: |
 Thank you for completing this interview. 
subquestion: |
  You can download your document on the next screen. Please download it and follow the directions on the attached cover sheet
  
  **Your response is due ${ date_to_file }.**
  
  If you haven't filed an Answer to court yet please bring your Answer attached to this document.
---
id: exit screen 2
continue button field: exitscreen_after10
question: |
 Thank you for completing this interview. 
subquestion: |
  You can download your document on the next screen. Please download it and follow the directions on the attached cover sheet.
 
  If you haven't filed an Answer to court yet please bring your Answer attached to this document.

  You are filing 10 days after the default judgment which means you must ask a judge to **stay the execution** (stop the eviction) until this motion is heard.
---
id: download
continue button field: download
question: |
  Your forms are ready to download.
subquestion: |
  ${ motion_attachment } 
attachment code: motion_attachment
---
attachment: 
  docx template file: Motion_To_Vacate_Form.docx
  variable name: motion_attachment
---
event: made_screen
question: |
  If you need help or more information regarding the filing of an answer please see more information from the Massachusetts Defense for Evictions (MADE) [here](${ url_of('https://www.gbls.org/MADE') })